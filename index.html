<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <title>Happy Birthday!</title>
    <style>
      @property --pointerColor {
        syntax: '<color>';
        inherits: false;
        initial-value: #000;
      }

      :root {
        --background-color: #1b1d20;
        --slide-width: 100%;
        --slide-shadow: 0 4px 20px 2px rgba(0, 0, 0, 0.4);
        --slide-thumb-height: 3px;
        --slide-thumb-default-color: rgba(0, 0, 0, 0.4);
        --slide-thumb-active-color: rgba(255, 255, 255, 0.9);
      }

      body, html {
        touch-action: manipulation;
        background-color: var(--background-color);
        width: 100%;
        height: 100%;
        display: flex;
      }

      div {
        position: relative;
        display: inline;
/*        margin: auto;*/
        width: max(100%, 100vw);
        font-size: 26px;
        line-height: 1.25;
      }

      p {
        padding: 5% 5%;
        display: inline-block;
        color: #b0b0b0;
      }

      a {
        background: linear-gradient(90deg, transparent, transparent calc(100% - 2px), var(--pointerColor) calc(100% - 2px), var(--pointerColor));
        background-size: 100% 70%;
        background-position: 0 5px;
        background-repeat: no-repeat;
        animation: colorChange .8s linear infinite;
        padding-right: 4px;
      }

      #continue {
        left: 0;
        position: fixed;
        bottom: 3%;
        width: 100%;
        z-index: 100;
        color: #b0b0b0;
      }

      .mask {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 9999;
      }

      @keyframes colorChange {
        0%, 40% {
            --pointerColor: #FFF
        }
        60%, 100% {
            --pointerColor: transparent;
        }
      }

      img {
        display: block;
        width: 100%;
      }

      .image {
        opacity: 0;
      }

      .slide {
        box-shadow: var(--slide-width);
        display: grid;
        margin: 0px auto;
        max-width: var(--slide-width);
      }

      .slide-items {
        border-radius: 5px;
        grid-area: 1/1;
        overflow: hidden;
        position: relative;
      }

      .slide-items>* {
        opacity: 0;
        pointer-events: none;
        position: absolute;
        top: 0;
      }

      .slide-items .active {
        opacity: 1;
        pointer-events: initial;
        position: relative;
      }

      .slide-nav {
        display: grid;
        grid-area: 1/1;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: auto 1fr;
        z-index: 1;
      }

      .slide-thumbs {
        display: flex;
        grid-column: 1 / 3;
      }

      .slide-thumb-item {
        background-color: var(--slide-thumb-default-color);
        border-radius: 3px;
        display: block;
        flex: 1;
        height: var(--slide-thumb-height);
        margin: 5px;
        overflow: hidden;
      }

      .slide-thumb-item.active::after {
        animation: thumb 5s forwards linear;
        background-color: var(--slide-thumb-active-color);
        border-radius: 3px;
        content: '';
        display: block;
        height: inherit;
        transform: translateX(-100%);
      }

      .slide-next,
      .slide-prev {
        opacity: 0;
        -webkit-appearance: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      }

      @keyframes thumb {
        to {
            transform: initial;
        }
      }
    </style>
  </head>
  <body>
    <div class="mask d-none"></div>
    <div class="container mt-5 story">
      <p>
        <a id="content"></a>
      </p>
      <div class="text-center">
        <span class="d-none" id="continue">
          é»æ“Šç©ºç™½è™•ç¹¼çºŒ...
        </span>
      </div>
    </div>

    <div class="container p-0 image d-none">
      <div data-slide="slide" class="slide">
        <div class="slide-items">
          <img src="img01.jpg" alt="">
          <img src="img02.png" alt="">
          <img src="img03.jpg" alt="">
          <img src="img04.png" alt="">
          <img src="img05.jpg" alt="">
          <img src="img06.jpg" alt="">
          <img src="img07.png" alt="">
        </div>
        <nav class="slide-nav">
          <div class="slide-thumbs"></div>
          <button class="slide-prev">Previous</button>
          <button class="slide-next">Next</button>
        </nav>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function() {
        var text = "å°ç…å­æ˜¯ä¸€å€‹å¸¥æ°£åˆé™½å…‰çš„å°å‹•ç‰©ï¼Œå°æ°´è±šè¦ºå¾—å°ç…å­æ˜¯å€‹å¥½äººæ‰€ä»¥æŠŠè‡ªå·±çš„å¥½é–¨èœœå°åˆºèŸä»‹ç´¹çµ¦å°ç…å­èªè­˜ï¼Œå¸Œæœ›å°ç…å­çš„æœæ°£èƒ½å¤ æ„ŸæŸ“å¿ƒæƒ…ä¸å¥½çš„å°åˆºèŸã€‚;ä¸ä¹…å¾Œå°ç…å­èˆ‡å°åˆºèŸä¾¿è¶Šèµ°è¶Šè¿‘ï¼Œå…©å€‹äººæ¯å¤©å½¢å½±ä¸é›¢ã€ç„¡è©±ä¸è«‡ï¼Œä¹Ÿæ¼¸æ¼¸å°å½¼æ­¤ç”¢ç”Ÿä¾è³´æ„Ÿï¼Œå°ç…å­é€™æ‰æ„è­˜éä¾†ã€‚;ã€Œæˆ‘å¥½åƒæ˜¯å–œæ­¡ä¸Šå°åˆºèŸäº†ï¼ã€;å…©å€‹äººä¸€èµ·å»äº†å¾ˆå¤šåœ°æ–¹ç©è€ï¼Œå°ç…å­æœƒè·Ÿå°åˆºèŸåˆ†äº«è‡ªå·±ç™¼ç”Ÿçš„äº‹ï¼Œå°åˆºèŸä¹Ÿæœƒå¤§æ–¹çš„å±•ç¤ºè‡ªå·±çš„æ”¶è—ï¼Œé€™æ¨£çš„é—œä¿‚ä¹Ÿé †å…¶è‡ªç„¶çš„å¾å¥½æœ‹å‹è®Šæˆäº†äººäººç¨±ç¾¨çš„å°æƒ…ä¾¶ï¼;ä½†å°ç…å­ç™¼ç¾å°åˆºèŸæ™‚å¸¸åœ¨ç”Ÿæ°£çš„æ™‚å€™æœƒæŠŠèº«ä¸Šçš„åˆºè±ç›´ç›´ä¸è®“ä»»ä½•äººæ¥è¿‘ï¼Œæœ‰æ™‚å°ç…å­æƒ³å˜—è©¦æŠ±æŠ±å°åˆºèŸåè€Œè¢«åˆºåˆ°å—å‚·ï¼Œå°ç…å­éå¸¸è‹¦æƒ±ç¸½è¦ºå¾—è‡ªå·±å¥½åƒæ²’æœ‰è¾¦æ³•æ¥ä½å°åˆºèŸé™°æ™´ä¸å®šçš„æƒ…ç·’ç”šè‡³è¦ºå¾—å°åˆºèŸå¾ˆå…‡ã€‚;æ–¼æ˜¯å°ç…å­æ±ºå®šå»å•å°åˆºèŸçš„å¥½é–¨èœœå°æ°´è±šï¼Œå°æ°´è±šé€™æ‰è§£é‡‹åˆ°ï¼ŒåŸä¾†å°åˆºèŸèº«ä¸Šæœƒæœ‰åˆºæ˜¯å› ç‚ºå°åˆºèŸä»¥å‰åœ¨å¤–é ­ç©è€æ™‚è¢«å¯æƒ¡çš„ä»™äººæŒå¼„å—å‚·äº†ï¼Œå°åˆºèŸéå¸¸é›£éä¾¿ä¸‹å®šæ±ºå¿ƒå°‡åˆºç•™åœ¨èº«ä¸Šï¼Œä¸åƒ…æ˜¯çµ¦è‡ªå·±è­¦æƒ•ä¹Ÿèƒ½é †ä¾¿ä¿è­·è‡ªå·±ã€‚ã€Œé€™æ¨£æˆ‘ä¸æ˜¯å¾ˆå€’éœ‰å—ï¼Ÿã€å°ç…å­èªªé“ï¼Œå°æ°´è±šæ¹Šåˆ°å°ç…å­è€³é‚Šè¬›äº†ä¸€å¥æ‚„æ‚„è©±ï¼Œèªªå®Œå°ç…å­å¥½åƒç¬é–“æ˜ç™½äº†ä»€éº¼ã€‚;å¾ä»Šçˆ¾å¾Œå°ç…å­è®Šå¾—è¶Šä¾†è¶Šæº«æŸ”ã€å°ç…å­è·Ÿå°åˆºèŸè¶Šä¾†è¶Šç”œèœœï¼Œä¸çŸ¥ä¸è¦ºå°åˆºèŸèº«ä¸Šçš„åˆºä¹Ÿä¸€æ ¹ä¸€æ ¹çš„è„«è½æ‰ç™¼ç¾åŸä¾†å°åˆºèŸæ ¹æœ¬å°±ä¸æ˜¯æ»¿èº«å¸¶åˆºã€è„¾æ°£æš´èºçš„åˆºèŸï¼Œè€Œæ˜¯ä¸€éš»å¯æ„›çš„å°è±¬ğŸ·;å°è±¬å¾ˆæ»¿æ„ç¾åœ¨çš„ç‹€æ…‹ï¼Œä½†ä¹Ÿå¾ˆå¥½å¥‡ç‚ºä½•å°ç…å­æœƒæœ‰å¦‚æ­¤å¤§çš„æ”¹è®Šï¼Œå°ç…å­å¾®å¾®ä¸€ç¬‘åˆæƒ³èµ·å°æ°´è±šå‘ä»–èªªçš„è©±ã€‚;ã€Œä»–çš„æº«æŸ”å€¼å¾—è¢«ç™¼æ˜ã€‚ã€";
        var speed = 100;
        var container = $("#content");
        var index = 0;
        var n = 0;

        function type() {
          if (n < 9) {
            t = text.split(";")[n]
            if (index < t.length) {
              container.append(t[index]);
              index++;
              setTimeout(type, speed);
            }else {
              n++;
              connnn();
            }
          }else {
            $(".story").addClass("d-none");
            $(".image").removeClass("d-none");
            $(".image").fadeTo(2000, 1);
            new SlideStories('slide');
          }
        }

        $(function () {
          var opacity = 1;
          var timer = setInterval(function() {
            if (opacity <= 0) {
              opacity = 1;
            }
            opacity -= 0.1;
            $("#continue").fadeTo(5,opacity);
          },100);
        })

        function connnn() {
          $(".mask").removeClass("d-none");
          $("#continue").removeClass("d-none");
          
        }

        $(".mask").click(function() {
          $(".mask").addClass("d-none");
          $("#continue").addClass("d-none");
          container.text("");
          index = 0;
          type();
        });

        type();

        class SlideStories {
          /** @param {string} id */
          constructor(id) {
            this.slide = document.querySelector(`[data-slide=${id}]`);
            this.active = 0;
            this.init();
          }

          /** @param {Number} index */
          activeSlide(index) {
            this.active = index;
            this.items.forEach((item) => item.classList.remove('active'));
            this.items[index].classList.add('active');
            this.thumbItems.forEach((item) => item.classList.remove('active'));
            this.thumbItems[index].classList.add('active');
            this.autoSlide();
          }

          next() {
            if (this.active < this.items.length - 1) {
              this.activeSlide(this.active + 1);
            } else {
              this.activeSlide(0);
            }
          }

          prev() {
            if (this.active > 0) {
              this.activeSlide(this.active - 1);
            } else {
              this.activeSlide(this.items.length - 1);
            }
          }

          addNavigation() {
            const nextBtn = this.slide.querySelector('.slide-next');
            const prevBtn = this.slide.querySelector('.slide-prev');
            nextBtn.addEventListener('click', this.next);
            prevBtn.addEventListener('click', this.prev);
          }

          addThumbItems() {
            this.items.forEach(() => (this.thumb.innerHTML += `<span class="slide-thumb-item"></span>`));
            this.thumbItems = Array.from(this.thumb.children);
          }

          autoSlide() {
            clearTimeout(this.timeout);
            this.timeout = setTimeout(this.next, 5000);
          }

          init() {
            this.next = this.next.bind(this);
            this.prev = this.prev.bind(this);
            this.items = this.slide.querySelectorAll('.slide-items > *');
            this.thumb = this.slide.querySelector('.slide-thumbs');
            this.addThumbItems();
            this.activeSlide(0);
            this.addNavigation();
          }
        }
      })
    </script>
  </body>
</html>
